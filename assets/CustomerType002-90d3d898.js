import{d as b,T as v,R as f,i as g,o as c,c as m,a as t,j as h,k as _,t as C,b as d,v as u,l as n,n as T,e as r,F,p as N,f as S,g as k}from"./index-ca30bde5.js";const a=new v,l=new f,R=b({name:"CustomerType002",data(){return{customerTypeForm:{customerTypeName:"",customerTypeRate:"",customerTypeStatus:"1",customerTypeDes:""},isInvalide:!1,textBreadcrumb:"",toastService:a,isLoading:!1}},created(){this.$route.params.type==="edit"?(this.handleDetail(this.$route.params.id),this.textBreadcrumb="Edit Cutomer Type"):this.textBreadcrumb="Create Cutomer Type"},methods:{handleSave(){if(this.customerTypeForm.customerTypeName===""||this.customerTypeForm.customerTypeRate===""){this.isInvalide=!0;return}this.$route.params.type==="edit"?this.handleUpdate():this.handleCreate()},async handleCreate(){const e={customer_type_name:this.customerTypeForm.customerTypeName,customer_type_rate:Number(this.customerTypeForm.customerTypeRate),customer_type_status:Number(this.customerTypeForm.customerTypeStatus),customer_type_des:this.customerTypeForm.customerTypeDes};this.isLoading=!0,await l.create("customer_types",e).then(()=>{this.isLoading=!1,this.handleBack(),a.toast("success","Created Success")}).catch(s=>{this.isLoading=!1,a.toast("error","Create failed",s.response.data.message)})},async handleDetail(e){await l.detail(`customer_types/${e}`).then(s=>{this.customerTypeForm={customerTypeName:s.data.data.customer_type_name,customerTypeRate:s.data.data.customer_type_rate,customerTypeStatus:s.data.data.customer_type_status,customerTypeDes:s.data.data.customer_type_des}}).catch(s=>{a.toast("error","Get Customer Type failed",s.response.data.message)})},async handleUpdate(){const e=this.$route.params.id,s={id:e,customer_type_name:this.customerTypeForm.customerTypeName,customer_type_rate:Number(this.customerTypeForm.customerTypeRate),customer_type_status:Number(this.customerTypeForm.customerTypeStatus),customer_type_des:this.customerTypeForm.customerTypeDes};this.isLoading=!0,await l.update(`customer_types/${e}`,s).then(()=>{this.isLoading=!1,this.handleBack(),a.toast("success","Updated Success")}).catch(p=>{this.isLoading=!1,a.toast("error","Updated failed",p.response.data.message)})},handleBack(){this.$router.push("/customer-type")}}}),i=e=>(N("data-v-0ef1e922"),e=e(),S(),e),B={class:"pagetitle"},D=i(()=>t("h1",null,"Dashboard",-1)),w={class:"mt-3"},$={class:"breadcrumb"},L={class:"breadcrumb-item"},I={class:"breadcrumb-item"},U={class:"breadcrumb-item"},V={class:"row"},q={class:"col-lg-12"},E={class:"card"},j={class:"card-body p-5"},x={class:"row mb-4"},z={class:"col-lg-6"},G=i(()=>t("label",{for:"customerTypeName",class:"form-label"},[r("Customer Type Name "),t("span",{class:"text-danger"},"*")],-1)),H={key:0,class:"invalid mb-2"},M={class:"col-lg-6"},A=i(()=>t("label",{for:"customerTypeRate",class:"form-label"},[r("Customer Type Rate "),t("span",{class:"text-danger"},"*")],-1)),J={key:0,class:"invalid mb-2"},K={key:1,class:"invalid mb-2"},O={class:"row mb-4"},P={class:"col-lg-12"},Q=i(()=>t("label",{for:"des",class:"col-form-label"},"Descriptoin",-1)),W={class:"d-flex"},X={class:"btn-back"},Y={class:"btn-save mx-3"};function Z(e,s,p,ee,te,se){const y=g("router-link");return c(),m(F,null,[t("div",B,[D,t("nav",w,[t("ol",$,[t("li",L,[h(y,{to:"/home"},{default:_(()=>[r("Home")]),_:1})]),t("li",I,[h(y,{to:"/customer-type"},{default:_(()=>[r("Customer Type")]),_:1})]),t("li",U,[t("a",null,C(e.textBreadcrumb),1)])])])]),t("div",V,[t("div",q,[t("div",E,[t("div",j,[t("div",x,[t("div",z,[G,d(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=o=>e.customerTypeForm.customerTypeName=o),class:"form-control",id:"customerTypeName",placeholder:"Enter name"},null,512),[[u,e.customerTypeForm.customerTypeName]]),e.isInvalide&&!e.customerTypeForm.customerTypeName?(c(),m("div",H,"Customer type name is require")):n("",!0)]),t("div",M,[A,d(t("input",{type:"number",min:"0","onUpdate:modelValue":s[1]||(s[1]=o=>e.customerTypeForm.customerTypeRate=o),class:"form-control",id:"customerTypeRate",placeholder:"Enter rate"},null,512),[[u,e.customerTypeForm.customerTypeRate]]),e.isInvalide&&!e.customerTypeForm.customerTypeRate?(c(),m("div",J,"Customer type rate is require")):n("",!0),e.isInvalide&&e.customerTypeForm.customerTypeRate<0?(c(),m("div",K,"Customer type rate should be greater than 0")):n("",!0)])]),t("div",O,[t("div",P,[Q,d(t("textarea",{class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>e.customerTypeForm.customerTypeDes=o),id:"des",placeholder:"Description",style:{height:"100px"}},null,512),[[u,e.customerTypeForm.customerTypeDes]])])]),t("div",W,[t("div",X,[t("button",{type:"button",class:"btn btn-dark px-4",onClick:s[3]||(s[3]=(...o)=>e.handleBack&&e.handleBack(...o))},"Back")]),t("div",Y,[t("button",{type:"button",class:T(["btn btn-primary px-4 btnSave",e.isLoading?"disabled":""]),onClick:s[4]||(s[4]=(...o)=>e.handleSave&&e.handleSave(...o))},[t("span",{class:T(e.isLoading?"loader":"")},null,2),r(" Save ")],2)])])])])])])],64)}const ae=k(R,[["render",Z],["__scopeId","data-v-0ef1e922"]]);export{ae as default};
